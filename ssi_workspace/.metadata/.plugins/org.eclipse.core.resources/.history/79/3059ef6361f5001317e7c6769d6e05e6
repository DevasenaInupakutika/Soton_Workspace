package com.example.ssitestapp;

import java.util.ArrayList;
import java.util.List;

import android.util.Log;

/**
 * Mimic the server side logic to return results with some delay
 */

public class BlogRemoteService {
	private static final String TAG = BlogRemoteService.class.getSimpleName();
	
	private int blogIdx = 0;
	
	public List<RSSItem> getNextBlogBatch(int batchSize){
		
		List<RSSItem> results = new ArrayList<RSSItem>();
    	try {
			for (int i = blogIdx; i < (blogIdx + batchSize < sushiEntries.length ? blogIdx + batchSize : sushiEntries.length); i++) {
		    	results.add(sushiEntries[i]);
				if (blogIdx != 0) {
					// Delay when retrieving each item
					Thread.sleep(400L);
				}
		    }
	    	// Keep track where the pointer is
			blogIdx = blogIdx + batchSize;
		} catch (InterruptedException e) {
			blogIdx = 0;
			results.clear();
			Log.i(TAG, "Blog service interrupted");
		}
		return results;
		
	}
	

}
